<template>
  <div class="container">
    <div class="category-row">
      <div class="group-header bg-grey">
        <h6>Bio + Health</h6>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">healthcare /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Associate, Business Development.</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">bio + health /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Business Development Lead.</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">bio + health /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Business Operations Manager.</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">bio + health /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Executive Talent Partner.</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">healthcare /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Public Policy Lead.</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="category-row">
      <div class="group-header bg-grey">
        <h6>Community</h6>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">community /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Community Manager</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">design /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Principal Product Designer</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="category-row">
      <div class="group-header bg-grey">
        <h6>Consumer</h6>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">consumer /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Community Manager</a></h5>
            <span class="place"> Partner, Consumer Growth Marketing</span>
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">consumer /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5>
              <a href="#">Partner, Consumer Growth Marketing, SEO</a>
            </h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="category-row">
      <div class="group-header bg-grey">
        <h6>Crypto</h6>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">crypto /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">a16z Crypto Research Summer Intern</a></h5>
            <span class="place"> Partner, Consumer Growth Marketing</span>
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">crypto /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Member of Technical Staff</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">crypto /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Senior Operations Manager</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="category-row">
      <div class="group-header bg-grey">
        <h6>Games</h6>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">american Dynamism /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Analyst, Games Investing Team.</a></h5>
            <span class="place"> Partner, Consumer Growth Marketing</span>
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-sm-2">
            <span class="category-title">games /</span>
          </div>
          <div class="col-sm-8 col-md-9">
            <h5><a href="#">Business Development Partner.</a></h5>
            <span class="place"
              >On-site / Menlo Park, California, United States.</span
            >
          </div>
          <div class="col-sm-2 col-md-1">
            <span class="cta-wrap">
              <a href="#" class="btn-link underlined">
                Button
                <span class="icon-arrow-right"></span>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "themePost",
  props: {
    terms: {
      type: String,
      required: false,
      default: "nfts",
    },
  },
  data() {
    return {
      posts: [],
    };
  },
  methods: {
    async getCategoryWisepost(terms) {
      let payload = {
        post_type: "any",
        posts_per_page: "4",
        tax_query: {
          taxonomy: "themes",
          field: "slug",
          terms: terms,
        },
      };
      const response = await this.$api.common.fetchPosts(payload);
      if (
        !this.$util.isEmpty(response) &&
        !this.$util.isEmpty(response.posts)
      ) {
        if (!this.$util.isEmpty(response.posts.data)) {
          let posts = response.posts.data;
          posts.forEach(async (val, index) => {
            posts[index].authorList = [];
            posts[index].thumb = "";
            let authorArr = await this.getSinglePost(val.ID);
            posts[index].authorList = authorArr;
          });
          this.posts = posts;
        }
      }
    },
    async getSinglePost(postId = 0) {
      var authorsArr = [];
      const response = await this.$api.common.getSinglePost(postId);
      if (!this.$util.isEmpty(response)) {
        if (!this.$util.isEmpty(response.acf)) {
          if (!this.$util.isEmpty(response.acf.authors)) {
            var authors = response.acf.authors;
            for (var index = 0; index < authors.length; index++) {
              authorsArr.push(authors[index].post_title);
            }
            return authorsArr;
          }
        }
      }
    },
  },
  mounted() {
    // this.getCategoryWisepost(this.terms);
  },
};
</script>
